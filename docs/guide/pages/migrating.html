<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>1.1 Migrating from release-plugin 2.0.0</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/configuration.html"><strong>2</strong><span>Configuration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/maven.html"><strong>3</strong><span>Maven integration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/plugins.html"><strong>4</strong><span>Publishing Grails plugins</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        <span id="logo"><a href="http://grails.org" target="_blank"><img alt="Grails Logo" title="The Grails Framework" src="../../img/grails.png" border="0"/></a></span>
        
        
        <span id="sponsor"><a href="http://springsource.com" target="_blank"><img alt="SpringSource Logo" title="SpringSource - Weapons for the War on Java Complexity" src="../../img/springsource-logo.png" border="0"/></a></span>
        
    </div>
    <p>Allows you to publish Grails plugins, either to a public or private repository. It also supports deploying Grails applications and plugins to Maven repositories without the need to use Maven directly.</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../../guide/configuration.html"><strong>2</strong><span>Configuration</span> >></a></div>
                


                <div class="project">
                    <h1>1.1 Migrating from release-plugin - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Peter Ledbrook</p>

                    <p><strong>Version:</strong> 2.0.0</p>

                    
                </div>

                

                

<h2 id="migrating">1.1 Migrating from release-plugin</h2>
Starting with Grails 2.0, the Release plugin replaces the old <code>release-plugin</code> command. Fortunately, you should have little trouble switching to the new <code>publish-plugin</code> command. Let's take a look at the most important differences (apart from the name change!).<p class="paragraph"/><h4>No &#45;&#45;zipOnly option</h4><p class="paragraph"/>The new <code>publish-plugin</code> command has a more flexible approach to source control management than <code>release-plugin</code> and so the <code>&#45;&#45;zipOnly</code> option is no longer available. Instead, you specify whether you want the plugin to manage source control integration via the new <code>&#45;&#45;scm</code> and <code>&#45;&#45;noScm</code> options. The former is effectively the default, but you can disable SCM for the project via the <code>grails.release.scm.enabled</code> build configuration option.<p class="paragraph"/>The source control management is handled by plugins, such as the Subversion plugin that this plugin depends on. If you don't have the appropriate plugin for your SCM system, you won't be able to use the SCM integration.<p class="paragraph"/><h4>Configuration changes</h4><p class="paragraph"/>Although your old repository configurations will continue to work, i.e. ones like <code>grails.plugin.repos.distribution.&#60;id&#62;</code> used by <code>release-plugin</code>, there is far more flexibility if you migrate to the latest style of repository and portal configuration. In particular, by using the syntax described in the <a href="../guide/single.html#configuration" class="guide">configuration chapter</a> you'll be able to put repository credentials and URLs in your personal ~/.grails/settings.groovy file.<p class="paragraph"/>You can also continue to use the repository configuration options supported by the old Maven Publisher plugin, but again, the new syntax is preferable.<p class="paragraph"/><h4>New metadata</h4><p class="paragraph"/>You can put extra metadata into your plugin descriptor, which will then be reflected both in the plugin's POM and in the Grails plugin portal. For example, you can specify:<p class="paragraph"/><div class="code"><pre>def license = <span class="java&#45;quote">"APACHE"</span>
def organization = &#91; name: <span class="java&#45;quote">"SpringSource"</span>, url: <span class="java&#45;quote">"http://www.springsource.org/"</span> &#93;
def developers = &#91;
        &#91; name: <span class="java&#45;quote">"Peter Ledbrook"</span>, email: <span class="java&#45;quote">"pledbrook@somewhere.net"</span> &#93;,
        &#91; name: <span class="java&#45;quote">"Graeme Rocher"</span>, email: <span class="java&#45;quote">"grocher@somewhere.net"</span> &#93; &#93;
def issueManagement = &#91; system: <span class="java&#45;quote">"JIRA"</span>, url: <span class="java&#45;quote">"http://jira.grails.org/browse/GRAILSPLUGINS"</span> &#93;
def scm = &#91; url: <span class="java&#45;quote">"http://svn.grails&#45;plugins.codehaus.org/browse/grails&#45;plugins/"</span> &#93;</pre></div><p class="paragraph"/>Note that the <code>developers</code> property should only include additional entries over and above the <code>author</code>. In other words, the primary author should still be declared in the <code>author</code> and <code>authorEmail</code> properties with only additional people going into the <code>developers</code> list.



                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item next-right"><a href="../../guide/configuration.html"><strong>2</strong><span>Configuration</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Command Line</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/generate-pom.html">generate-pom</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/maven-deploy.html">maven-deploy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/maven-install.html">maven-install</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/publish-plugin.html">publish-plugin</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
