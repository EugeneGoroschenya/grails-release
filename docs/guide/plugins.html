<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>4 Publishing Grails plugins 2.0.4</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/configuration.html"><strong>2</strong><span>Configuration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/maven.html"><strong>3</strong><span>Maven integration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/plugins.html"><strong>4</strong><span>Publishing Grails plugins</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        <span id="logo"><a href="http://grails.org" target="_blank"><img alt="Grails Logo" title="The Grails Framework" src="../img/grails.png" border="0"/></a></span>
        
        
        <span id="sponsor"><a href="http://springsource.com" target="_blank"><img alt="SpringSource Logo" title="SpringSource - Weapons for the War on Java Complexity" src="../img/springsource-logo.png" border="0"/></a></span>
        
    </div>
    <p>Allows you to publish Grails plugins, either to a public or private repository. It also supports deploying Grails applications and plugins to Maven repositories without the need to use Maven directly.</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/maven.html">&lt;&lt; <strong>3</strong><span>Maven integration</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                


                <div class="project">
                    <h1>4 Publishing Grails plugins - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Peter Ledbrook</p>

                    <p><strong>Version:</strong> 2.0.4</p>

                    
                </div>

                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#grailsCentral"><strong>4.1</strong><span>Publishing to Grails Central Plugin Repository</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#custom"><strong>4.2</strong><span>Custom repositories and plugin portals</span></a>
                    </div>
                    
                </div>
                

                

<h1 id="plugins">4 Publishing Grails plugins</h1>
If you want to make your Grails plugins available to other people, then the best approach is to publish them using this plugin. The publication process is straightforward:
<ol>
<li>Package the plugin as a zip or jar</li>
<li>Deploy it to a Maven or Subversion repository</li>
<li>Optionally notify a plugin portal of the release</li>
</ol><p class="paragraph"/>The <a href="../ref/Command Line/publish-plugin.html" class="commandLine">publish-plugin</a> command does all of this for you. It can also integrate with a source control management (SCM) provider if a corresponding plugin is installed, ensuring that all your changes are committed and tagged before the plugin is published. You'll find more information about this later.<p class="paragraph"/>


<h2 id="grailsCentral">4.1 Publishing to Grails Central Plugin Repository</h2>
The most common use case for the <code>publish-plugin</code> command is to publish a public plugin so that it is available to all Grails users; well, to those that have an internet connection at least. Because of this, the command's default configuration is geared towards the Grails Central Plugin Repository. As long as you have a <a href="http://grails.org/Creating+Plugins" target="blank">Grails.org account</a>, simply installing the Release plugin and executing<p class="paragraph"/><div class="code"><pre>grails publish&#45;plugin</pre></div><p class="paragraph"/>will do everything necessary to publish the plugin and announce its release. Note however you require prior permission granted in order to publish a particular plugin. See the details on <a href="http://grails.org/Creating+Plugins" target="blank">requesting permission to publish a plugin</a> for more information.<p class="paragraph"/>During the publishing process you may be asked for your grails.org usernames and passwords, but otherwise that's it. Your plugin will be deployed to the Grails Central Plugin Repository, its plugin portal page on grails.org will be updated, and the release will be announced on various channels such as Twitter (user &#64;grailsplugins).<p class="paragraph"/>It's a pain to enter your username and password every time you publish a plugin, so you can set these for the Grails Central Plugin Repository in <code>~/.grails/settings.groovy</code>:<p class="paragraph"/><div class="code"><pre>grails.project.repos.grailsCentral.username = <span class="java&#45;quote">"me"</span>
grails.project.repos.grailsCentral.password = <span class="java&#45;quote">"s0longf!shthanks"</span></pre></div><p class="paragraph"/>The above values will be used whenever you publish to the Grails Central Plugin Repository and grails.org.



<h2 id="custom">4.2 Custom repositories and plugin portals</h2>
Not all plugins should be publicly available: some are too specific to certain projects while others are confidential. Still, teams can gain big advantages from deploying such plugins to their own private repositories. Because of that, the Release plugin can of course publish plugins to any target repository and even notify private plugin portals.<p class="paragraph"/><h3>Repository types and configuration</h3><p class="paragraph"/>Grails supports two types of plugin repository: the traditional Subversion-based one and Maven-compatible. The public plugin repository is currently an example of the former. All you need to do is set up a standard Subversion repository and the Release plugin will do the rest.<p class="paragraph"/>Maven-compatible ones can be easily set up with either <a href="http://www.jfrog.com/products.php" target="blank">Artifactory</a> or <a href="http://nexus.sonatype.org/" target="blank">Nexus</a>. Subversion-based repositories are useful for older versions of Grails, but if you only use Grails 1.3 or above, we recommend you use a Maven-compatible repository for your plugins.<p class="paragraph"/>Whichever type of repository you go for, the <a href="../guide/single.html#repositories" class="guide">configuration settings</a> are mostly the same. The key options are the repository URL and the username and password for deploying to the repository. All of these can be configured in either <code>~/.grails/settings.groovy</code> or <code>BuildConfig.groovy</code>. Typically, a single repository hosts many plugins, so it's usually a good idea to put the configuration in <code>settings.groovy</code> and then specify in <code>grails-app/conf/BuildConfig.groovy</code> which repository a plugin should be published to by default:<p class="paragraph"/><div class="code"><pre>grails.project.repos.<span class="java&#45;keyword">default</span> = <span class="java&#45;quote">"companyRepo"</span></pre></div><p class="paragraph"/>or<p class="paragraph"/><div class="code"><pre>grails.project.repos.<span class="java&#45;keyword">default</span> = <span class="java&#45;quote">"grailsCentral"</span></pre></div><p class="paragraph"/>for example. This saves you from having to use the <code>&#45;&#45;repository</code> command line argument every time you publish a plugin, although you can still use it to override the default. For example, you may have a local Maven-compatible repository you want to test deployment to, so you could configure it in <code>settings.groovy</code> and then run:<p class="paragraph"/><div class="code"><pre>grails publish&#45;plugin &#45;&#45;repository=localReleases</pre></div><p class="paragraph"/>One last thing: the Release plugin handles the differences between publishing to Subversion and Maven-compatible repositories, but you still need to let it know what type you're using. By default it assumes a Maven-compatible repository, but you can declare as repository as a Subversion one through its <code>type</code> configuration option. Just set it to "svn".<p class="paragraph"/><h3>Your own plugin portal</h3><p class="paragraph"/>How would you like your own plugin portal for your private plugins? You'll be able to see what plugins are available, tag them and do searches. The <a href="http://grails.org/plugins" target="blank">public plugin portal</a> at grails.org is part of that web site, but it's also an <a href="http://github.com/grails-samples/grails-website" target="blank">open source project</a> on GitHub. There are also plans to extract the plugin portal so that it can be used independently of the grails.org web site.<p class="paragraph"/>Currently, your best option if you want your own portal is to grab a copy of the grails.org source code and run your own version locally. It's a Grails application, so it's not hard to get it started. Once it's up and running, it provides a REST API that the Release plugin can use for plugin release notifications. The portal updates the information for the given plugin and then announces the release in various ways. You'll probably want to disable the announcements, which you can do by modifying the <a href="http://github.com/grails-samples/grails-website/blob/master/grails-app/services/org/grails/plugin/PluginUpdateService.groovy#L157" target="blank">PluginUpdateService.announceRelease()</a> method.<p class="paragraph"/>Configuring the Release plugin to notify your own portal is straightforward and described in the <a href="../guide/single.html#pluginPortals" class="guide">configuration section</a>. Remember, you can specify a default portal for each project and you can also override that default via the <code>&#45;&#45;portal</code> command line argument.<p class="paragraph"/>


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/maven.html">&lt;&lt; <strong>3</strong><span>Maven integration</span></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Command Line</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/generate-pom.html">generate-pom</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/maven-deploy.html">maven-deploy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/maven-install.html">maven-install</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/publish-plugin.html">publish-plugin</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
