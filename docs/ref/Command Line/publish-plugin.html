<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>Release Plugin 2.0.4</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass(el) {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">

<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/configuration.html"><strong>2</strong><span>Configuration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/maven.html"><strong>3</strong><span>Maven integration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/plugins.html"><strong>4</strong><span>Publishing Grails plugins</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        <span id="logo"><a href="http://grails.org" target="_blank"><img alt="Grails Logo" title="The Grails Framework" src="../../img/grails.png" border="0"/></a></span>
        
        
        <span id="sponsor"><a href="http://springsource.com" target="_blank"><img alt="SpringSource Logo" title="SpringSource - Weapons for the War on Java Complexity" src="../../img/springsource-logo.png" border="0"/></a></span>
        
    </div>
    <p>Allows you to publish Grails plugins, either to a public or private repository. It also supports deploying Grails applications and plugins to Maven repositories without the need to use Maven directly.</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="reference corner-all">

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                <h1>publish-plugin</h1><p class="paragraph"/><h2>Purpose</h2><p class="paragraph"/>Publishes a Grails plugin to a plugin repository and notifies an associated plugin portal of the release.<p class="paragraph"/><h2>Options</h2><p class="paragraph"/><div class="code"><pre>grails publish&#45;plugin &#91;&#45;&#45;dryRun&#93; &#91;&#45;&#45;snapshot&#93; &#91;&#45;&#45;repository=repoId&#93;
                      &#91;&#45;&#45;protocol=protocol&#93; &#91;&#45;&#45;portal=portal&#93; &#91;&#45;&#45;pingOnly&#93;
                      &#91;&#45;&#45;scm&#93; &#91;&#45;&#45;noScm&#93; &#91;&#45;&#45;binary&#93; &#91;&#45;&#45;no&#45;overwrite&#93; &#91;&#45;&#45;allow&#45;overwrite&#93;</pre></div>
<ul class="star">
<li><code>dryRun</code> will simply print out what files will be deployed. It won't actually perform the deployment, so it's a good way to see whether the command will do what you expect.</li>
<li><code>snapshot</code> forces the command to treat the plugin as a snapshot version. In other words, it will not be marked as the latest release. This currently only affects deployments to Subversion repositories. By default, plugins are treated as release versions unless their version number has a '-SNAPSHOT' suffix.</li>
<li><code>repository</code> specifies which Subversion or Maven-compatible repository the plugin should be deployed to. A remote repository must first be defined with that ID in BuildConfig.groovy.</li>
<li><code>protocol</code> specifies the protocol to use when deploying the plugin to a Maven-compatible repository. Can be one of 'http', 'scp', 'scpexe', 'ftp', or 'webdav'. The default is 'http'.</li>
<li><code>portal</code> specifies the ID of the portal to notify. For this to work, a portal must be configured for that ID in BuildConfig.groovy.</li>
<li><code>pingOnly</code> forces the command to only notify the configured portal - the plugin is not published to a repository.</li>
<li><code>scm</code> enables source control management for this release. It is on by default unless disabled via the <code>grails.release.scm.enabled</code> configuration setting.</li>
<li><code>noScm</code> disables source control management for this release.</li>
<li><code>binary</code> packages the plugin in binary form before publishing it. This overrides the default packaging for the plugin.</li>
<li><code>no-overwrite</code> ensures the script exits with a status of 0 if this plugin has already been published.  This is useful if this plugin is being published from a continuous integration server and you don't want the command to exit with failure.</li>
<li><code>allow-overwrite</code> writes over any existing plugin with the same name and version number</li>
</ul><p class="paragraph"/><h2>Examples</h2><p class="paragraph"/>Publish to the Grails Central Plugin Repository and notify the grails.org plugin portal of the release:
<div class="code"><pre>grails publish&#45;plugin</pre></div><p class="paragraph"/>Publish to the repository 'myRepo' - whatever portal (if any) is configured for that repository will be notified by the command:
<div class="code"><pre>grails publish&#45;plugin &#45;&#45;repository=myRepo</pre></div><p class="paragraph"/>Publish to the custom repository 'acme', notify the plugin portal declared with the ID 'comp', and force this release to be treated as a snapshot:
<div class="code"><pre>grails publish&#45;plugin &#45;&#45;repository=acme &#45;&#45;portal=comp &#45;&#45;snapshot</pre></div><p class="paragraph"/><h2>Description</h2><p class="paragraph"/>In order for Grails to use plugins declaratively via the dependency DSL, they must be published to a repository. This command allows you to publish to both Maven-compatible and old-style Subversion repositories while also optionally notifying a plugin portal (like the one on grails.org) of the plugin releases.<p class="paragraph"/>When publishing a public plugin, i.e. one that is hosted on the Grails Central Plugin Repository and the grails.org plugin portal, this command is typically run as:<p class="paragraph"/><div class="code"><pre>grails publish&#45;plugin</pre></div><p class="paragraph"/>You may end up in the situation where the plugin has been deployed to its repository but the portal wasn't notified, for example if the portal is unavailable when you execute the command. In this case, you can attempt to notify the plugin portal at a later date by using the <code>&#45;&#45;pingOnly</code> option, which bypasses the plugin deployment.<p class="paragraph"/><h2>Events</h2>
<ul class="star">
<li><code>PublishPluginStart</code> - Fired when the publish plugin command starts. One argument is passed in the event: a plugin info object with <code>name</code>, <code>version</code>, <code>group</code>, and <code>isSnapshot</code> properties.</li>
<li><code>DeployPluginStart</code> - Fired just before the plugin is deployed to its repository. Takes three arguments: a plugin info object (see <code>PublishPluginStart</code>), the location of the plugin zip, and the location of the POM file.</li>
<li><code>DeployPluginEnd</code> - Fired just after the plugin is deployed to its repository. Takes three arguments: a plugin info object (see <code>PublishPluginStart</code>), the location of the plugin zip, and the location of the POM file.</li>
<li><code>PingPortalStart</code> - Fired just before the plugin portal is notified. Takes three arguments: a plugin info object (see <code>PublishPluginStart</code>), the URL of the plugin portal, and the URL of the repository to which the plugin was deployed.</li>
<li><code>PingPortalEnd</code> - Fired just after the plugin portal is notified. Takes three arguments: a plugin info object (see <code>PublishPluginStart</code>), the URL of the plugin portal, and the URL of the repository to which the plugin was deployed.</li>
<li><code>PublishPluginEnd</code> - Fired at the end of the command. Has one argument: a plugin info object (see <code>PublishPluginStart</code>).</li>
</ul><p class="paragraph"/>In the plugin info object, <code>name</code> is the name of the plugin, <code>version</code> is its version number, <code>group</code> is the group ID that goes in the POM, and <code>isSnapshot</code> indicates whether the plugin is a snapshot version (<code>true</code>) or not (<code>false</code>).

            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block">
                        <h1 class="menu-title" onclick="toggleRef(nextElement(this))">Command Line</h1>
                        <div class="menu-sub selected">
                            
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/generate-pom.html">generate-pom</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/maven-deploy.html">maven-deploy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/maven-install.html">maven-install</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/publish-plugin.html">publish-plugin</a>
                            </div>
                            
                        </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>


<script type="text/javascript" src="../../js/docs.js"></script>

</body>
</html>
